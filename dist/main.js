(()=>{"use strict";const e=function(){let e=[{name:"Renee",year:1994},{name:"Leya",year:1995},{name:"Logan",year:2018},{name:"Tina",year:2019}];return{people:e,renderPeople:()=>console.log(e),clearPeople:()=>{e=[]}}}(),r=function(){let e={};return{renderPerson:()=>console.log(e),newPerson:(r,n)=>(e={name:r,year:n},e),clearPerson:()=>{e={}},addPerson:r=>{r.push(e)},removePerson:(e,r)=>{r.splice(e,1)}}}(),n=function(){let e=[];const r=()=>{e=[]};return{getYear:function(n,t){return r(),n.forEach((r=>{let n,o,a;n=parseInt(t)-parseInt(r.year),o=r.name,a=((e,r)=>({name:e,age:r}))(o,n),e.push(a)})),(e=>{document.querySelector(".age-library").innerHTML="",e.forEach((e=>{const r=document.querySelector(".age-library"),n=document.createElement("p");n.innerHTML=`Name: ${e.name}, Age: ${e.age}`,r.appendChild(n)}))})(e),e},calculatedAges:e,clearCalculatedAges:r}}(),t=function(){const t=e=>{const r=document.querySelector(`.${e}`),n=document.createElement("p");n.classList.add("error"),n.innerHTML="Missing values detected.",r.appendChild(n)},o=e=>{const r=document.querySelector(".error");r&&r.remove()},a=e=>{l(),e.forEach(((e,r)=>{const n=document.querySelector(".people-library"),t=document.createElement("p"),o=document.createElement("button");o.innerHTML="Delete",o.classList.add("delete"),o.setAttribute("id",`${r}`),t.innerHTML=`Name: ${e.name}, Birth Year: ${e.year}`,t.appendChild(o),n.appendChild(t)})),c()},c=()=>{document.querySelector(".people-library").addEventListener("click",(n=>{if(n.target.classList.contains("delete")){const t=n.target.getAttribute("id");r.removePerson(t,e.people),console.log(e.people),a(e.people)}}))},l=()=>{document.querySelector(".people-library").innerHTML=""};let u;return{personInput:function(){document.querySelector(".person-submit").addEventListener("click",(()=>{const n=document.querySelector(".name").value,c=document.querySelector(".birth-year").value;""==n||""==c?t("person-submit-error"):(r.newPerson(n,c),r.addPerson(e.people),a(e.people),(()=>{const e=document.querySelector(".name"),r=document.querySelector(".birth-year");e.value="",r.value=""})(),o(),console.log(e.people))}))},yearInput:()=>{document.querySelector(".year-submit").addEventListener("click",(()=>{const r=document.querySelector(".year-calculate").value;""==r?t("year-submit-error"):(u=r,(e=>{document.querySelector(".year-announcer").innerHTML="";const r=document.querySelector(".year-announcer"),n=document.createElement("p");n.innerHTML=`<h2>Year to calculate: ${e}</h2> `,r.appendChild(n)})(u),n.getYear(e.people,u),document.querySelector(".year-calculate").value="",o())}))}}}();t.personInput(),t.yearInput()})();