(()=>{"use strict";const e=function(){const e=()=>"_"+Math.random().toString(36).substr(2,9);let r=[{id:e(),name:"Renee",year:1994},{id:e(),name:"Leya",year:1995},{id:e(),name:"Logan",year:2018},{id:e(),name:"Tina",year:2019}];return{people:r,renderPeople:()=>console.log(r),clearPeople:()=>{r.length=0},generateUniqueId:e}}(),r=function(){let r={};return{renderPerson:()=>console.log(r),newPerson:(n,t)=>(r={id:e.generateUniqueId(),name:n,year:t},r),clearPerson:()=>{r={}},addPerson:e=>{e.push(r)},removePerson:(e,r)=>{const n=r.findIndex((r=>r.id===e));n>-1&&r.splice(n,1)}}}(),n=function(){let e=[];const r=()=>{e=[]},n=()=>{document.querySelector(".age-library").innerHTML=""};return{getYear:function(t,o){return r(),t.forEach((r=>{let n,t,c;n=parseInt(o)-parseInt(r.year),t=r.name,c=((e,r)=>({name:e,age:r}))(t,n),e.push(c)})),(e=>{n(),e.forEach((e=>{const r=document.querySelector(".age-library"),n=document.createElement("p");n.innerHTML=`Name: ${e.name}, Age: ${e.age}`,r.appendChild(n)}))})(e),e},calculatedAges:e,clearCalculatedAges:r,clearPeopleAgeOutput:n}}(),t=function(){const t=e=>{const r=document.querySelector(`.${e}`),n=document.createElement("p");n.classList.add("error"),n.innerHTML="Missing values detected.",r.appendChild(n)},o=e=>{const r=document.querySelector(".error");r&&r.remove()},c=()=>{const e=document.querySelector(".name"),r=document.querySelector(".birth-year");e.value="",r.value=""},a=e=>{u(),e.forEach((e=>{const r=document.querySelector(".people-library"),n=document.createElement("p"),t=document.createElement("button");t.innerHTML="Delete",t.classList.add("delete"),t.setAttribute("unique-id",`${e.id}`),n.innerHTML=`Name: ${e.name}, Birth Year: ${e.year}`,n.appendChild(t),r.appendChild(n)})),l()},l=()=>{document.querySelector(".people-library").addEventListener("click",(n=>{if(n.target.classList.contains("delete")){const t=n.target.getAttribute("unique-id");r.removePerson(t,e.people),a(e.people)}}))},u=()=>{document.querySelector(".people-library").innerHTML=""};let d;const i=()=>{document.querySelector(".year-announcer").innerHTML=""},s=()=>{document.querySelector(".year-calculate").value=""};return{personInput:function(){document.querySelector(".person-submit").addEventListener("click",(()=>{const n=document.querySelector(".name").value,l=document.querySelector(".birth-year").value;""==n||""==l?t("person-submit-error"):(r.newPerson(n,l),r.addPerson(e.people),a(e.people),c(),o(),console.log(e.people))}))},yearInput:()=>{document.querySelector(".year-submit").addEventListener("click",(()=>{const r=document.querySelector(".year-calculate").value;""==r?t("year-submit-error"):(d=r,(e=>{i();const r=document.querySelector(".year-announcer"),n=document.createElement("p");n.innerHTML=`<h2>Year to calculate: ${e}</h2> `,r.appendChild(n)})(d),n.getYear(e.people,d),s(),o())}))},clearAll:()=>{document.querySelector(".clear-all").addEventListener("click",(()=>{c(),u(),o(),o(),s(),i(),e.clearPeople(),console.log(e.people),r.clearPerson(),n.clearPeopleAgeOutput()}))}}}();t.personInput(),t.yearInput(),t.clearAll()})();